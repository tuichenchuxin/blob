---
title: "代码未生效问题调查"
date: 2024-09-24T09:19:56+08:00
draft: false
---

# 背景
多语言的设置在测试环境可以正常展示，但是在生产环境却无法展示。

# 确认代码版本
分支 hotfix/132424
5.2.0:2.2.22.1082

测试：
5.2.0:2.2.22.1082
5.2.0:2.2.22.1082

2.2.22.1050

生产：
5.2.0:2.2.22.1082
5.2.0:2.2.22.1082
5.2.0:2.2.22.1082

2.2.22.1050
2.2.22.1050

生产和测试区镜像一致

# 确认数据是否一致
测试区
```
{
                "_id": "66f170b450c88226a84db263",
                "mechanismCode": "ud_m_e9cb9bde2d4e423093b900a6912040d2",
                "mechanismVersion": "2.0",
                "mechanismTheoryCode": "ud_p_6f474b61aeaf4609b29f61bcfdd1216d",
                "status": 1,
                "createDate": "2024/09/23 21:43:19",
                "from": "",
                "createdByDevPlatform": true,
                "deletedByDevPlatform": false,
                "tenantId": "SYSTEM",
                "application": "purchase99",
                "athena_namespace": "purchase99",
                "priority": 0,
                "score": 0,
                "code": "ud_c_792142a1511544e7a0fa6c2e8a1a14b0",
                "version": "1.0",
                "name": "测试能力1",
                "description": "测试能力描述",
                "datamap": "2.0",
                "lang": {
                    "name": {
                        "zh_TW": "測試能力1",
                        "en_US": "test1",
                        "zh_CN": "测试能力1"
                    },
                    "description": {
                        "zh_TW": "測試能力描述",
                        "en_US": "test1desc",
                        "zh_CN": "测试能力描述"
                    }
                }
            }
```

生产区
```
{
                "_id": "66f170d128fd7d621d1e931a",
                "mechanismCode": "ud_m_e9cb9bde2d4e423093b900a6912040d2",
                "mechanismVersion": "2.0",
                "mechanismTheoryCode": "ud_p_6f474b61aeaf4609b29f61bcfdd1216d",
                "status": 1,
                "createDate": "2024/09/23 21:43:19",
                "from": "",
                "createdByDevPlatform": true,
                "deletedByDevPlatform": false,
                "tenantId": "SYSTEM",
                "application": "purchase99",
                "athena_namespace": "purchase99",
                "priority": 0,
                "score": 0,
                "code": "ud_c_792142a1511544e7a0fa6c2e8a1a14b0",
                "version": "1.0",
                "name": "测试能力1",
                "description": "测试能力描述",
                "datamap": "2.0",
                "lang": {
                    "name": {
                        "zh_TW": "測試能力1",
                        "en_US": "test1",
                        "zh_CN": "测试能力1"
                    },
                    "description": {
                        "zh_TW": "測試能力描述",
                        "en_US": "test1desc",
                        "zh_CN": "测试能力描述"
                    }
                }
            }
```

生产区和测试区数据一致

# 通过 Arthas 来进一步定位问题

```
[arthas@82]$ watch com.digiwin.athena.knowledgegraph.service.impl.MechanismService postQueryMechanismByCode "{params,returnObj}" -s -x 1
Press Q or Ctrl+C to abort.
Affect(class count: 2 , method count: 8) cost in 714 ms, listenerId: 5
method=com.digiwin.athena.knowledgegraph.service.impl.MechanismService.postQueryMechanismByCode location=AtExit
ts=2024-09-24 10:24:18.588; [cost=55.195385ms] result=@ArrayList[
    @Object[][isEmpty=false;size=3],
    @Mechanism[Mechanism(code=ud_m_e9cb9bde2d4e423093b900a6912040d2, name=按时测试, description=null, author=null, createTime=null, executeDescription=null, tags=null, supportProducts=null, requireDataFrame=null, paramDescription=[FieldDescription(name=数, key=number_zxy_1, value=null, dataType=number, componentType=null, format=null, express=null, fields=null, description=数, defaultValue=null, displayType=NUMBER, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=1, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=人员, key=personnel_zxy, value=null, dataType=string, componentType=null, format=null, express=null, fields=null, description=人员, defaultValue=null, displayType=MULTIPLE_USER, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=2, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=频率_按时使用, key=pl_time_1, value=null, dataType=string, componentType=null, format=null, express=null, fields=null, description=频率_按时使用, defaultValue=null, displayType=FREQUENCY, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=2, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false)], sourceOperationUnit=null, skipSimulate=true, defaultPageTemplate=null, defaultPresent=null, composite=true, subMechanisms=null, hasSet=false, enhance=null, simulateResultWriteBack=null, skipOutputFile=false, principles=[Principle(code=ud_p_6f474b61aeaf4609b29f61bcfdd1216d, description=null, details=[PrincipleDetail(code=ud_pd_445433bf630844d9be9cd53c037b6c55, sequence=null, content=按时, description=null, relatedParamKeys=[number_zxy_1, personnel_zxy, pl_time_1], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=ud_c_650c0c128f3546ab8729f850d7b14415, sequence=null, content=null, description=时机参数-plan-前-number-小时--含变量, relatedParamKeys=[ud_c_650c0c128f3546ab8729f850d7b14415], otherParamKeys=null, title=时机参数-plan-前-number-小时--含变量, from=user, subtitle=null), PrincipleDetail(code=ud_c_319b94cbdd784eb2a1e0a2c58c103ca8, sequence=null, content=null, description=每周-plan--后-自定义1--小时--无跳转无变量, relatedParamKeys=[ud_c_319b94cbdd784eb2a1e0a2c58c103ca8], otherParamKeys=null, title=每周-plan--后-自定义1--小时--无跳转无变量, from=user, subtitle=null), PrincipleDetail(code=ud_c_fc1576a20af74c868c301f667ce08505, sequence=null, content=null, description=每分钟--create--后--number-小时--跳转*3, relatedParamKeys=[ud_c_fc1576a20af74c868c301f667ce08505], otherParamKeys=null, title=每分钟--create--后--number-小时--跳转*3, from=user, subtitle=null), PrincipleDetail(code=ud_c_4a7039737f0f4c2ea2ed1b86a86a738e, sequence=null, content=null, description=完成率, relatedParamKeys=[ud_c_4a7039737f0f4c2ea2ed1b86a86a738e], otherParamKeys=null, title=完成率, from=user, subtitle=null), PrincipleDetail(code=ud_c_4bf4c47cc134428eb038ee19bbdd5323, sequence=null, content=null, description=每小时--周期-跳转全局咨询, relatedParamKeys=[ud_c_4bf4c47cc134428eb038ee19bbdd5323], otherParamKeys=null, title=每小时--周期-跳转全局咨询, from=user, subtitle=null), PrincipleDetail(code=ud_c_6cc7efe7835149258b37c16d3be0a654, sequence=null, content=null, description=能力描述, relatedParamKeys=[ud_c_6cc7efe7835149258b37c16d3be0a654], otherParamKeys=null, title=新建能力, from=user, subtitle=null), PrincipleDetail(code=ud_c_792142a1511544e7a0fa6c2e8a1a14b0, sequence=null, content=null, description=测试能力描述, relatedParamKeys=[ud_c_792142a1511544e7a0fa6c2e8a1a14b0], otherParamKeys=null, title=测试能力1, from=user, subtitle=null)], title=按时, sequence=null, from=null, capacities=null, status=0)], extensions=null, version=1.0, paradigmCode=null, dependMechanismCodes=null, existsSystemPrinciples=null, mergeVersion=null, capacities=null, eocLevel=null, paramApi=null)],
]
method=com.digiwin.athena.knowledgegraph.service.impl.MechanismService.postQueryMechanismByCode location=AtExit
ts=2024-09-24 10:24:18.590; [cost=56.918778ms] result=@ArrayList[
    @Object[][isEmpty=false;size=2],
    @Mechanism[Mechanism(code=ud_m_e9cb9bde2d4e423093b900a6912040d2, name=按时测试, description=null, author=null, createTime=null, executeDescription=null, tags=null, supportProducts=null, requireDataFrame=null, paramDescription=[FieldDescription(name=数, key=number_zxy_1, value=null, dataType=number, componentType=null, format=null, express=null, fields=null, description=数, defaultValue=null, displayType=NUMBER, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=1, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=人员, key=personnel_zxy, value=null, dataType=string, componentType=null, format=null, express=null, fields=null, description=人员, defaultValue=null, displayType=MULTIPLE_USER, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=2, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=频率_按时使用, key=pl_time_1, value=null, dataType=string, componentType=null, format=null, express=null, fields=null, description=频率_按时使用, defaultValue=null, displayType=FREQUENCY, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=2, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false)], sourceOperationUnit=null, skipSimulate=true, defaultPageTemplate=null, defaultPresent=null, composite=true, subMechanisms=null, hasSet=false, enhance=null, simulateResultWriteBack=null, skipOutputFile=false, principles=[Principle(code=ud_p_6f474b61aeaf4609b29f61bcfdd1216d, description=null, details=[PrincipleDetail(code=ud_pd_445433bf630844d9be9cd53c037b6c55, sequence=null, content=按时, description=null, relatedParamKeys=[number_zxy_1, personnel_zxy, pl_time_1], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=ud_c_650c0c128f3546ab8729f850d7b14415, sequence=null, content=null, description=时机参数-plan-前-number-小时--含变量, relatedParamKeys=[ud_c_650c0c128f3546ab8729f850d7b14415], otherParamKeys=null, title=时机参数-plan-前-number-小时--含变量, from=user, subtitle=null), PrincipleDetail(code=ud_c_319b94cbdd784eb2a1e0a2c58c103ca8, sequence=null, content=null, description=每周-plan--后-自定义1--小时--无跳转无变量, relatedParamKeys=[ud_c_319b94cbdd784eb2a1e0a2c58c103ca8], otherParamKeys=null, title=每周-plan--后-自定义1--小时--无跳转无变量, from=user, subtitle=null), PrincipleDetail(code=ud_c_fc1576a20af74c868c301f667ce08505, sequence=null, content=null, description=每分钟--create--后--number-小时--跳转*3, relatedParamKeys=[ud_c_fc1576a20af74c868c301f667ce08505], otherParamKeys=null, title=每分钟--create--后--number-小时--跳转*3, from=user, subtitle=null), PrincipleDetail(code=ud_c_4a7039737f0f4c2ea2ed1b86a86a738e, sequence=null, content=null, description=完成率, relatedParamKeys=[ud_c_4a7039737f0f4c2ea2ed1b86a86a738e], otherParamKeys=null, title=完成率, from=user, subtitle=null), PrincipleDetail(code=ud_c_4bf4c47cc134428eb038ee19bbdd5323, sequence=null, content=null, description=每小时--周期-跳转全局咨询, relatedParamKeys=[ud_c_4bf4c47cc134428eb038ee19bbdd5323], otherParamKeys=null, title=每小时--周期-跳转全局咨询, from=user, subtitle=null), PrincipleDetail(code=ud_c_6cc7efe7835149258b37c16d3be0a654, sequence=null, content=null, description=能力描述, relatedParamKeys=[ud_c_6cc7efe7835149258b37c16d3be0a654], otherParamKeys=null, title=新建能力, from=user, subtitle=null), PrincipleDetail(code=ud_c_792142a1511544e7a0fa6c2e8a1a14b0, sequence=null, content=null, description=测试能力描述, relatedParamKeys=[ud_c_792142a1511544e7a0fa6c2e8a1a14b0], otherParamKeys=null, title=测试能力1, from=user, subtitle=null)], title=按时, sequence=null, from=null, capacities=null, status=0)], extensions=null, version=1.0, paradigmCode=null, dependMechanismCodes=null, existsSystemPrinciples=null, mergeVersion=null, capacities=null, eocLevel=null, paramApi=null)],
]
method=com.digiwin.athena.knowledgegraph.service.impl.MechanismService$$EnhancerBySpringCGLIB$$265447ce.postQueryMechanismByCode location=AtExit
ts=2024-09-24 10:24:18.591; [cost=58.240999ms] result=@ArrayList[
    @Object[][isEmpty=false;size=2],
    @Mechanism[Mechanism(code=ud_m_e9cb9bde2d4e423093b900a6912040d2, name=按时测试, description=null, author=null, createTime=null, executeDescription=null, tags=null, supportProducts=null, requireDataFrame=null, paramDescription=[FieldDescription(name=数, key=number_zxy_1, value=null, dataType=number, componentType=null, format=null, express=null, fields=null, description=数, defaultValue=null, displayType=NUMBER, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=1, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=人员, key=personnel_zxy, value=null, dataType=string, componentType=null, format=null, express=null, fields=null, description=人员, defaultValue=null, displayType=MULTIPLE_USER, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=2, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=频率_按时使用, key=pl_time_1, value=null, dataType=string, componentType=null, format=null, express=null, fields=null, description=频率_按时使用, defaultValue=null, displayType=FREQUENCY, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=2, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false)], sourceOperationUnit=null, skipSimulate=true, defaultPageTemplate=null, defaultPresent=null, composite=true, subMechanisms=null, hasSet=false, enhance=null, simulateResultWriteBack=null, skipOutputFile=false, principles=[Principle(code=ud_p_6f474b61aeaf4609b29f61bcfdd1216d, description=null, details=[PrincipleDetail(code=ud_pd_445433bf630844d9be9cd53c037b6c55, sequence=null, content=按时, description=null, relatedParamKeys=[number_zxy_1, personnel_zxy, pl_time_1], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=ud_c_650c0c128f3546ab8729f850d7b14415, sequence=null, content=null, description=时机参数-plan-前-number-小时--含变量, relatedParamKeys=[ud_c_650c0c128f3546ab8729f850d7b14415], otherParamKeys=null, title=时机参数-plan-前-number-小时--含变量, from=user, subtitle=null), PrincipleDetail(code=ud_c_319b94cbdd784eb2a1e0a2c58c103ca8, sequence=null, content=null, description=每周-plan--后-自定义1--小时--无跳转无变量, relatedParamKeys=[ud_c_319b94cbdd784eb2a1e0a2c58c103ca8], otherParamKeys=null, title=每周-plan--后-自定义1--小时--无跳转无变量, from=user, subtitle=null), PrincipleDetail(code=ud_c_fc1576a20af74c868c301f667ce08505, sequence=null, content=null, description=每分钟--create--后--number-小时--跳转*3, relatedParamKeys=[ud_c_fc1576a20af74c868c301f667ce08505], otherParamKeys=null, title=每分钟--create--后--number-小时--跳转*3, from=user, subtitle=null), PrincipleDetail(code=ud_c_4a7039737f0f4c2ea2ed1b86a86a738e, sequence=null, content=null, description=完成率, relatedParamKeys=[ud_c_4a7039737f0f4c2ea2ed1b86a86a738e], otherParamKeys=null, title=完成率, from=user, subtitle=null), PrincipleDetail(code=ud_c_4bf4c47cc134428eb038ee19bbdd5323, sequence=null, content=null, description=每小时--周期-跳转全局咨询, relatedParamKeys=[ud_c_4bf4c47cc134428eb038ee19bbdd5323], otherParamKeys=null, title=每小时--周期-跳转全局咨询, from=user, subtitle=null), PrincipleDetail(code=ud_c_6cc7efe7835149258b37c16d3be0a654, sequence=null, content=null, description=能力描述, relatedParamKeys=[ud_c_6cc7efe7835149258b37c16d3be0a654], otherParamKeys=null, title=新建能力, from=user, subtitle=null), PrincipleDetail(code=ud_c_792142a1511544e7a0fa6c2e8a1a14b0, sequence=null, content=null, description=测试能力描述, relatedParamKeys=[ud_c_792142a1511544e7a0fa6c2e8a1a14b0], otherParamKeys=null, title=测试能力1, from=user, subtitle=null)], title=按时, sequence=null, from=null, capacities=null, status=0)], extensions=null, version=1.0, paradigmCode=null, dependMechanismCodes=null, existsSystemPrinciples=null, mergeVersion=null, capacities=null, eocLevel=null, paramApi=null)],
]

```


```
[arthas@80]$ watch com.digiwin.athena.knowledgegraph.service.impl.MechanismDesignService mergeMechanismDesignInfo "{params,returnObj}" -s -x 2
Press Q or Ctrl+C to abort.
Affect(class count: 2 , method count: 2) cost in 641 ms, listenerId: 3
method=com.digiwin.athena.knowledgegraph.service.impl.MechanismDesignService.mergeMechanismDesignInfo location=AtExit
method=com.digiwin.athena.knowledgegraph.service.impl.MechanismDesignService.mergeMechanismDesignInfo location=AtExit
ts=2024-09-24 10:37:00.007; [cost=7.126417ms] result=@ArrayList[
    @Object[][
        @Mechanism[Mechanism(code=111_TEST, name=111_TEST, description=null, author=null, createTime=null, executeDescription=null, tags=null, supportProducts=null, requireDataFrame=null, paramDescription=[FieldDescription(name=品號資訊偵測, key=FCI_item_cloud_detection, value=null, dataType=string, componentType=null, format=rule;yyyyMMdd HH:mm;switch, express=null, fields=null, description=品號資訊偵測, defaultValue=F10;20100101 00:00;true, displayType=PERIODIC, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=7, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=FCI_item_cloud_detection, category=period, from=default, isOperation=false, eocLevel=null, executable=1, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=false, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false)], sourceOperationUnit=null, skipSimulate=true, defaultPageTemplate=null, defaultPresent=null, composite=true, subMechanisms=null, hasSet=false, enhance=null, simulateResultWriteBack=null, skipOutputFile=false, principles=[Principle(code=ud_p_616ba68134ae42ff9f1f9517e8ac2555, description=null, details=[PrincipleDetail(code=ud_pd_587c83822a194a948c2ae7c4add7471d, sequence=null, content=111_TEST, description=null, relatedParamKeys=[FCI_item_cloud_detection], otherParamKeys=null, title=null, from=null, subtitle=null)], title=111_TEST, sequence=null, from=null, capacities=null, status=0)], extensions=null, version=2.0, paradigmCode=null, dependMechanismCodes=null, existsSystemPrinciples=null, mergeVersion=null, capacities=null, eocLevel=null, paramApi=null)],
        @Integer[1],
    ],
    null,
]
ts=2024-09-24 10:37:00.007; [cost=3.524955ms] result=@ArrayList[
    @Object[][
        @Mechanism[Mechanism(code=SelfForecastingOfSupplyAndDemandMechanism, name=自主预测供需机制, description=null, author=null, createTime=null, executeDescription=null, tags=null, supportProducts=null, requireDataFrame=null, paramDescription=[FieldDescription(name=客戶資訊維護, key=maintenanceOfCustomerInfo, value=&routerLink=/base-data-entry&code=maintenanceOfCustomerInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=責任人設定, key=forecastingResponderAndExecutor, value=&routerLink=/base-data-entry&code=forecastingResponderAndExecutor&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=品號資訊維護, key=maintenanceOfProductInfo, value=&routerLink=/base-data-entry&code=maintenanceOfProductInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=客戶品號關係維護, key=baseDataEntry_product_informtion_maintenance, value=&routerLink=/base-data-entry&code=baseDataEntry_product_informtion_maintenance&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false)], sourceOperationUnit=null, skipSimulate=true, defaultPageTemplate=null, defaultPresent=null, composite=true, subMechanisms=null, hasSet=false, enhance=null, simulateResultWriteBack=null, skipOutputFile=false, principles=[Principle(code=sfosad_p1, description=null, details=[PrincipleDetail(code=sfosad_p1d1, sequence=numethod=com.digiwin.athena.knowledgegraph.service.impl.MechanismDesignService$$EnhancerBySpringCGLIB$$e4137eb9.mergeMechanismDesignInfo location=AtExit

                *产业景气趋势分析
                *依据历史销售数据-->统计每月热销品,分析热销产品项目
                *库存数量周转天数分析
                *依据目标终端市场车种销售数据-->以车损维修期预估统计每月销量,分析热销车种/车型对应产品项目
        1-2.拟定预测叁考变量
        1-3.拟定产品预测滚动更新周期
, description=1.规划产品预测项目
        每[半年]针对[下半年]检讨预测产品品项,招开销售分析会议
        会议前需准备下列项目：
                1.2. 业务收集产业景气预测平台及透过客户访谈了解对未来景气预估
                1.3. 汇总统计过去3年每月产品销货数量及评估热销产品项目
                1.4. 针对以上产品项目汇总统计过去3年库存周转天数
                1.5. 目标市场下期在过去市场新车销售量数据
        会议产出：
ts=2024-09-24 10:37:00.010; [cost=9.873338ms] result=@ArrayList[
                1.6. 预测主要目标客户
    @Object[][
                1.7. 预测主要目标客户之预测目标产品项目
                1.8. 评估各目标客户之预测产品项目预测数量
, relatedParamKeys=null, otherParamKeys=null, title=null, from=null, subtitle=null)], title=规划产品预测项目, sequence=null, from=null, capacities=null, status=null), Principle(code=sfosad_p2, description=null, details=[PrincipleDetail(code=sfosad_p2d1, sequence=null, content=2-1.设置客户及负责预测责任对象
        2-2.设置预测流程及预测模型
        @Mechanism[Mechanism(code=111_TEST, name=111_TEST, description=null, author=null, createTime=null, executeDescription=null, tags=null, supportProducts=null, requireDataFrame=null, paramDescription=[FieldDescription(name=品號資訊偵測, key=FCI_item_cloud_detection, value=null, dataType=string, componentType=null, format=rule;yyyyMMdd HH:mm;switch, express=null, fields=null, description=品號資訊偵測, defaultValue=F10;20100101 00:00;true, displayType=PERIODIC, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=7, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=FCI_item_cloud_detection, category=period, from=default, isOperation=false, eocLevel=null, executable=1, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=false, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false)], sourceOperationUnit=null, skipSimulate=true, defaultPageTemplate=null, defaultPresent=null, composite=true, subMechanisms=null, hasSet=false, enhance=null, simulateResultWriteBack=null, skipOutputFile=false, principles=[Principle(code=ud_p_616ba68134ae42ff9f1f9517e8ac2555, description=null, details=[PrincipleDetail(code=ud_pd_587c83822a194a948c2ae7c4add7471d, sequence=null, content=111_TEST, description=null, relatedParamKeys=[FCI_item_cloud_detection], otherParamKeys=null, title=null, from=null, subtitle=null)], title=111_TEST, sequence=null, from=null, capacities=null, status=0)], extensions=null, version=2.0, paradigmCode=null, dependMechanismCodes=null, existsSystemPrinciples=null, mergeVersion=null, capacities=null, eocLevel=null, paramApi=null)],

        @Integer[1],产品预测运作基础

    ],  将销售分析会议决议项目设置预测系统, relatedParamKeys=[maintenanceOfCustomerInfo, forecastingResponderAndExecutor, maintenanceOfProductInfo, baseDataEntry_product_informtion_maintenance], otherParamKeys=null, title=null, from=null, subtitle=null)], title=设置产品预测运作基础, sequence=null, from=null, capacities=null, status=null), Principle(code=sfosad_p3, description=null, details=[PrincipleDetail(code=sfosad_p3d1, sequence=null, content=      3-0.依据预测周期事前主动通知负责业务

    null,
]       3-1.汇入/同步ERP各项变量来源数据

        3-2.负责业务自主计算产品预测数量,并根据叁考变量调整后录入提交主管审批
        3-3.主管审批通过后汇出/同步ERP生成销售预测订单
, description=3.执行产品预测量
        依据预测周期事前主动通知负责业务
                3.1. 定期透过系统主动通知业务发起预测
                3.2. 若未完成预测建置,系统通知业务主管预警
                3.3. 系统提醒各项ERP数据同步/汇入资料完备列表
        汇入/同步ERP各项变量来源数据
                3.4. 将ERP同步/汇入资料导入系统
                3.5. 各项变量数据完备及统整
                3.6. 计算各项产品自主预测并逐项填入自主预测任务卡
                3.7. 提交主管审批
                3.8. 预测经主管审批通过后,将各客户产品预测项目汇出/同步 ERP销售预测订单提供生管备货
, relatedParamKeys=null, otherParamKeys=null, title=null, from=null, subtitle=null)], title=执行产品预测量, sequence=null, from=null, capacities=null, status=null), Principle(code=sfosad_p4, description=null, details=[PrincipleDetail(code=sfosad_p4d1, sequence=null, content=  4-0.以最大生产周期为限,预分析预测偏差,做预测量调教
        4-1.汇入/同步实际订单
        4-2.产品预测偏差分析:
                *供给溢出:调降未来预测量
                *供给不足:调升未来预测量
        4-3.主管审批通过后汇出/同步ERP生成销售预测订单
, description=4.检讨预测达成偏差暨动态调校预测量
        以最大生产周期为限,预分析预测偏差,做预测量调教
                4.1. 设置产品预测偏差计算期间
        汇入/同步实际订单
                4.2. 汇入/同步 ERP当期订单
        产品预测偏差分析
                4.3. 供给溢出:调降未来预测量
                4.4. 供给不足:调升未来预测量
主管审批通过后汇出/同步ERP生成销售预测订单
, relatedParamKeys=null, otherParamKeys=null, title=null, from=null, subtitle=null)], title=检讨预测达成偏差暨动态调校预测量, sequence=null, from=null, capacities=null, status=null)], extensions=[], version=2.0, paradigmCode=null, dependMechanismCodes=null, existsSystemPrinciples=null, mergeVersion=null, capacities=null, eocLevel=null, paramApi=null)],
        @Integer[1],
    ],
    null,
]
method=com.digiwin.athena.knowledgegraph.service.impl.MechanismDesignService$$EnhancerBySpringCGLIB$$e4137eb9.mergeMechanismDesignInfo location=AtExit
ts=2024-09-24 10:37:00.011; [cost=7.558471ms] result=@ArrayList[
    @Object[][
        @Mechanism[Mechanism(code=SelfForecastingOfSupplyAndDemandMechanism, name=自主预测供需机制, description=null, author=null, createTime=null, executeDescription=null, tags=null, supportProducts=null, requireDataFrame=null, paramDescription=[FieldDescription(name=客戶資訊維護, key=maintenanceOfCustomerInfo, value=&routerLink=/base-data-entry&code=maintenanceOfCustomerInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=責任人設定, key=forecastingResponderAndExecutor, value=&routerLink=/base-data-entry&code=forecastingResponderAndExecutor&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=品號資訊維護, key=maintenanceOfProductInfo, value=&routerLink=/base-data-entry&code=maintenanceOfProductInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=客戶品號關係維護, key=baseDataEntry_product_informtion_maintenance, value=&routerLink=/base-data-entry&code=baseDataEntry_product_informtion_maintenance&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false)], sourceOperationUnit=null, skipSimulate=true, defaultPageTemplate=null, defaultPresent=null, composite=true, subMechanisms=null, hasSet=false, enhance=null, simulateResultWriteBack=null, skipOutputFile=false, principles=[Principle(code=sfosad_p1, description=null, details=[PrincipleDetail(code=sfosad_p1d1, sequence=null, content=    1-1.拟定预测产品项目
                *产业景气趋势分析
                *依据历史销售数据-->统计每月热销品,分析热销产品项目
                *库存数量周转天数分析
                *依据目标终端市场车种销售数据-->以车损维修期预估统计每月销量,分析热销车种/车型对应产品项目
        1-2.拟定预测叁考变量
        1-3.拟定产品预测滚动更新周期
, description=1.规划产品预测项目
        每[半年]针对[下半年]检讨预测产品品项,招开销售分析会议
        会议前需准备下列项目：
                1.2. 业务收集产业景气预测平台及透过客户访谈了解对未来景气预估
                1.3. 汇总统计过去3年每月产品销货数量及评估热销产品项目
                1.4. 针对以上产品项目汇总统计过去3年库存周转天数
                1.5. 目标市场下期在过去市场新车销售量数据
        会议产出：
                1.6. 预测主要目标客户
                1.7. 预测主要目标客户之预测目标产品项目
                1.8. 评估各目标客户之预测产品项目预测数量
, relatedParamKeys=null, otherParamKeys=null, title=null, from=null, subtitle=null)], title=规划产品预测项目, sequence=null, from=null, capacities=null, status=null), Principle(code=sfosad_p2, description=null, details=[PrincipleDetail(code=sfosad_p2d1, sequence=null, content=2-1.设置客户及负责预测责任对象
        2-2.设置预测流程及预测模型
        2-3.设置产品预测叁考变量
, description=2.设置产品预测运作基础
        将销售分析会议决议项目设置预测系统, relatedParamKeys=[maintenanceOfCustomerInfo, forecastingResponderAndExecutor, maintenanceOfProductInfo, baseDataEntry_product_informtion_maintenance], otherParamKeys=null, title=null, from=null, subtitle=null)], title=设置产品预测运作基础, sequence=null, from=null, capacities=null, status=null), Principle(code=sfosad_p3, description=null, details=[PrincipleDetail(code=sfosad_p3d1, sequence=null, content=      3-0.依据预测周期事前主动通知负责业务
        3-1.汇入/同步ERP各项变量来源数据
        3-2.负责业务自主计算产品预测数量,并根据叁考变量调整后录入提交主管审批
        3-3.主管审批通过后汇出/同步ERP生成销售预测订单
, description=3.执行产品预测量
        依据预测周期事前主动通知负责业务
                3.1. 定期透过系统主动通知业务发起预测
                3.2. 若未完成预测建置,系统通知业务主管预警
                3.3. 系统提醒各项ERP数据同步/汇入资料完备列表
        汇入/同步ERP各项变量来源数据
                3.4. 将ERP同步/汇入资料导入系统
                3.5. 各项变量数据完备及统整
                3.6. 计算各项产品自主预测并逐项填入自主预测任务卡
                3.7. 提交主管审批
                3.8. 预测经主管审批通过后,将各客户产品预测项目汇出/同步 ERP销售预测订单提供生管备货
, relatedParamKeys=null, otherParamKeys=null, title=null, from=null, subtitle=null)], title=执行产品预测量, sequence=null, from=null, capacities=null, status=null), Principle(code=sfosad_p4, description=null, details=[PrincipleDetail(code=sfosad_p4d1, sequence=null, content=  4-0.以最大生产周期为限,预分析预测偏差,做预测量调教
        4-1.汇入/同步实际订单
        4-2.产品预测偏差分析:
                *供给溢出:调降未来预测量
                *供给不足:调升未来预测量
        4-3.主管审批通过后汇出/同步ERP生成销售预测订单
, description=4.检讨预测达成偏差暨动态调校预测量
        以最大生产周期为限,预分析预测偏差,做预测量调教
                4.1. 设置产品预测偏差计算期间
        汇入/同步实际订单
                4.2. 汇入/同步 ERP当期订单
        产品预测偏差分析
                4.3. 供给溢出:调降未来预测量
                4.4. 供给不足:调升未来预测量
主管审批通过后汇出/同步ERP生成销售预测订单
, relatedParamKeys=null, otherParamKeys=null, title=null, from=null, subtitle=null)], title=检讨预测达成偏差暨动态调校预测量, sequence=null, from=null, capacities=null, status=null)], extensions=[], version=2.0, paradigmCode=null, dependMechanismCodes=null, existsSystemPrinciples=null, mergeVersion=null, capacities=null, eocLevel=null, paramApi=null)],
        @Integer[1],
    ],
    null,
]
method=com.digiwin.athena.knowledgegraph.service.impl.MechanismDesignService.mergeMechanismDesignInfo location=AtExit
ts=2024-09-24 10:37:00.045; [cost=4.446351ms] result=@ArrayList[
    @Object[][
        @Mechanism[Mechanism(code=ForecastingSupplyAndDemandControlPlanning, name=预测供需调控机制, description=null, author=null, createTime=null, executeDescription=null, tags=null, supportProducts=null, requireDataFrame=null, paramDescription=[FieldDescription(name=客戶資訊維護, key=maintenanceOfCustomerInfo, value=&routerLink=/base-data-entry&code=maintenanceOfCustomerInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=品號資訊維護, key=maintenanceOfProductInfo, value=&routerLink=/base-data-entry&code=maintenanceOfProductInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=客戶品號關係維護, key=baseDataEntry_product_informtion_maintenance, value=&routerLink=/base-data-entry&code=baseDataEntry_product_informtion_maintenance&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=責任人設定, key=forecastingResponderAndExecutor, value=&routerLink=/base-data-entry&code=forecastingResponderAndExecutor&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=預測流程設定, key=DataEntry_PredictiveProcessSetup, value=&routerLink=/base-data-entry&code=DataEntry_PredictiveProcessSetup&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=21, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=預測需求量, key=calculationRules, value=null, dataType=string, componentType=null, format=null, express=null, fields=null, description=預測需求量, defaultValue=[inventory_qty], displayType=CHECKBOX, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=[{language={label={zh_TW=庫存, en_US=inventory qty, zh_CN=库存}}, label=庫存, lang={label={zh_TW=庫存, en_US=inventory qty, zh_CN=库存}}, value=inventory_qty}, {language={label={zh_TW=交貨量, en_US=delivery qty, zh_CN=交货量}}, label=交貨量, lang={label={zh_TW=交貨量, en_US=delivery qty, zh_CN=交货量}}, value=delivery_qty}, {language={label={zh_TW=在製, en_US=in qty, zh_CN=在制}}, label=在製, lang={label={zh_TW=在製, en_US=in qty, zh_CN=在制}}, value=in_qty}, {language={label={zh_TW=在途量, en_US=on way qty, zh_CN=在途量}}, label=在途量, lang={label={zh_TW=在途量, en_US=on way qty, zh_CN=在途量}}, value=on_way_qty}], sequence=7, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=null, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=預測BOM資訊維護, key=maintenanceOfBomInfo, value=&routerLink=/base-data-entry&code=maintenanceOfBomInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=取穩態的資料類型, key=steadyStateDataType, value=null, dataType=string, componentType=null, format=null, express=null, fields=null, description=取穩態的資料類型, defaultValue=null, displayType=CHECKBOX, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=[{language={label={zh_TW=庫存, en_US=inventory qty, zh_CN=库存}}, label=庫存, lang={label={zh_TW=庫存, en_US=inventory qty, zh_CN=库存}}, value=inventory_qty}, {language={label={zh_TW=交貨量, en_US=delivery qty, zh_CN=交货量}}, label=交貨量, lang={label={zh_TW=交貨量, en_US=delivery qty, zh_CN=交货量}}, value=delivery_qty}, {language={label={zh_TW=在製, en_US=in qty, zh_CN=在制}}, label=在製, lang={label={zh_TW=在製, en_US=in qty, zh_CN=在制}}, value=in_qty}, {language={label={zh_TW=下階庫存, en_US=next qty, zh_CN=下阶库存}}, label=下階庫存, lang={label={zh_TW=下階庫存, en_US=next qty, zh_CN=下阶库存}}, value=next_qty}, {language={label={zh_TW=下階採購, en_US=next purchase, zh_CN=下阶采购}}, label=下階採購, lang={label={zh_TW=下階採購, en_US=next purchase, zh_CN=下阶采购}}, value=next_purchase}, {language={label={zh_TW=下階在製, en_US=next in qty, zh_CN=下阶在制}}, label=下階在製, lang={label={zh_TW=下階在製, en_US=next in qty, zh_CN=下阶在制}}, value=next_in_qty}], sequence=7, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=null, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=DynamicCondition(items=null), fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed={valueMapping=[{op=EQUAL, rightValueType=CONSTANT, right=Y, value=[inventory_qty]}, {op=EQUAL, rightValueType=CONSTANT, right=N, value=[]}], serviceName=hasGroundEnd, type=SYSTEM}, isTop=false), FieldDescription(name=庫存資訊維護, key=DataEntry_MaintenanceOfInventoryInfo, value=&routerLink=/base-data-entry&code=DataEntry_MaintenanceOfInventoryInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=DynamicCondition(items=null), fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=訂單資訊維護, key=DataEntry_order_information_maintenance, value=&routerLink=/base-data-entry&code=DataEntry_order_information_maintenance&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=DynamicCondition(items=null), fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=備料資訊維護, key=maintenanceOfSparePartsInfo, value=&routerLink=/base-data-entry&code=maintenanceOfSparePartsInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=DynamicCondition(items=null), fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=彙總真預測, key=aggregateTruePrediction, value=null, dataType=object, componentType=null, format=null, express=null, fields=null, description=設定真預測的彙總規則，依客戶彙總：同一客戶有新的預測數據時,按最新預測調整該客戶所有的真預測數據；依客戶和品號彙總：同一客戶有新的預測數據時，按最新預測調整該客戶同品號的真預測數據, defaultValue=customer, displayType=RADIO, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=[{language={label={zh_TW=依客戶彙總, en_US=依客户汇总, zh_CN=依客户汇总}}, label=依客戶彙總, lang={label={zh_TW=依客戶彙總, en_US=依客户汇总, zh_CN=依客户汇总}}, value=customer}, {language={label={zh_TW=依客戶和品號彙總, en_US=依客户和品号汇总, zh_CN=依客户和品号汇总}}, label=依客戶和品號彙總, lang={label={zh_TW=依客戶和品號彙總, en_US=依客户和品号汇总, zh_CN=依客户和品号汇总}}, value=customer_item}], sequence=13, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=庫存資訊維護, key=DataEntry_MaintenanceOfInventoryInfo2, value=&routerLink=/base-data-entry&code=DataEntry_MaintenanceOfInventoryInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=訂單資訊維護, key=DataEntry_order_information_maintenance2, value=&routerLink=/base-data-entry&code=DataEntry_order_information_maintenance&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=備料資訊維護, key=maintenanceOfSparePartsInfo2, value=&routerLink=/base-data-entry&code=maintenanceOfSparePartsInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=DetectingSalesForecastData, key=DetectingSalesForecastData, value=null, dataType=object, componentType=null, format=null, express=null, fields=null, description=DetectingSalesForecastData, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=9999, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=null, executeName=null, colspan=0, extendData=null, category=link, from=default, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=null, openWindowTip=null, valueComputed=null, isTop=null)], sourceOperationUnit=null, skipSimulate=true, defaultPageTemplate=null, defaultPresent=null, composite=true, subMechanisms=null, hasSet=false, enhance=null, simulateResultWriteBack=null, skipOutputFile=false, principles=[Principle(code=fsadcp_p1, description=null, details=[PrincipleDetail(code=fsadcp_p1d1, sequence=null, content=明确需纳入预测管理的范畴，先行厘清各产品类型，对应之备货流程与产销模式，方能使得预测管理的效益最大化。
, description=一、建构预测管理模型的规则：
1-1 針對固定頻率提供預測的客戶進行維護
, relatedParamKeys=[maintenanceOfCustomerInfo], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d2, sequence=null, content=, description=1-2 針對1-1客戶預測的備貨品號進行維護
, relatedParamKeys=[maintenanceOfProductInfo], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d3, sequence=null, content=, description=1-3 針對預測廠內品號維護對應客戶品號
, relatedParamKeys=[baseDataEntry_product_informtion_maintenance], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d4, sequence=null, content=, description=2. 当预测偏差发生时，为确保响应不遗漏，需事先明确负责人员；未来发生预测偏差时，会自动派送任务卡给对应负责人：
2-1 负责处理预测偏差的人员
2-2 负责监督处理状况的人员
, relatedParamKeys=[forecastingResponderAndExecutor], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d5, sequence=null, content=, description=3. 订定预测偏差分析的计划周期区间范围：
预测偏差分析周期需小于等于滚动式预测(Rolling Forecast)的范围，且至少超过合理的前置时间(Lead Time)。例如：客户每个月会更新未来12个月的预测，且客户产品于厂内产销协调后的备货周期是3个月，则预测偏差分析周期须设定介于3-12个月之间。
预测偏差分析周期可以根据实际备货需求动态调整。
, relatedParamKeys=[DataEntry_PredictiveProcessSetup], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d6, sequence=null, content=, description=4. 是否与客户有协议，历史未交货的预测需求，客户要全数出货。
, relatedParamKeys=null, otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d7, sequence=null, content=, description=5. 预测备货如需考虑订单需求，须择一设定预测与订单的冲销方式，避免相同需求重复备货：
5-1 当期有预测需求，则以预测为主，不考虑订单数量。
5-2 当期有订单需求，则以订单为主，不考虑预测数量。
5-3 比对当期预测与订单数量，两者取其大。
, relatedParamKeys=null, otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d8, sequence=null, content=, description=6. 预测偏差分析周期内的需求，与厂内备货的供给有落差时，订定需预警的偏差幅度。
未来可以依据偏差率稳定下降后，动态调降偏差分析标准。
6-1 供给溢出－评估合理备货范围
6-2 供给不足－如果不允许任何交货风险则设定0%
, relatedParamKeys=null, otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d9, sequence=null, content=, description=7-1 订定备货供给的范畴
7-1-1 MTS(Make to Stock 存货式生产)
, relatedParamKeys=[calculationRules], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d10, sequence=null, content=, description=7-1-2 ATO(Assembly to Order 接单后装配)
预测BOM与生产BOM不同，生产BOM是生产过程中的产品架构，预测BOM则是以预测备货的角度建置，不存在多阶架构。
举例来说，半成品到成品的生产周期很短，因此备货至半成品即可满足出货需求，则预测BOM只需要建置上阶成品，对应下阶半成品，不需要建置尾阶原材料。
此外，如果上阶主件成品对应下阶有20个元件，其中17个备货风险较低，则预测BOM只需要建置3个关键元件，进行预测备货管理的风险监控。
, relatedParamKeys=[maintenanceOfBomInfo], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d11, sequence=null, content=, description=7-2 订定备货供给的数据来源：
, relatedParamKeys=[steadyStateDataType, DataEntry_MaintenanceOfInventoryInfo, DataEntry_order_information_maintenance, maintenanceOfSparePartsInfo], otherParamKeys=[steadyStateInfos], title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d12, sequence=null, content=, description=8. 与客户制定预测资料更新方式，是否直接覆盖，或是根据品号更新。
, relatedParamKeys=[aggregateTruePrediction], otherParamKeys=null, title=null, from=null, subtitle=null)], title=项⽬建构预测管理模型的规则, sequence=null, from=null, capacities=null, status=null), Principle(code=fsadcp_p2, description=null, details=[PrincipleDetail(code=fsadcp_p2d1, sequence=null, content=透过任务过滤的前置参数设定，于后续每次拿到客户预测需求，系统即可计算并汇整，列出符合合理备货条件的清单，以及供需不平衡需要处理的品项，让业务省去资料整理的繁琐过程，直接让数据结果驱动相应的任务，使业务可以更加专注于重要的产销协调。, description=二、预测偏差分析的响应策略
1. 生管/物控根据客户预测展开厂内备货计划
敏态：, relatedParamKeys=[DataEntry_MaintenanceOfInventoryInfo2, DataEntry_order_information_maintenance2, maintenanceOfSparePartsInfo2], otherParamKeys=[steadyStateInfos2], title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p2d2, sequence=null, content=, description=稳态：ERP作业
 
2. 各业务收到负责客户之预测资料后，于FCI发起项目，将客户预测资料导入系统，产生预测偏差分析结果。
, relatedParamKeys=[DetectingSalesForecastData], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p2d3, sequence=null, content=, description=3. 将预测供需异常的预警清单，推送给负责业务进行处理，负责业务需于2天内完成所有预警品项的跟进。
3-1 供给不足
3-1-1 召开产销会议，讨论如何协调生产计划。
3-1-2 检视前后预测版本的差异数量，判断客户需求突增，导致交货不及，则实时与客户进行协商。
3-2 供给溢出
3-2-1 确认已开制令单之生产状况，请生管删除未开工之制令单。
3-2-2 检视前后预测版本的差异数量，如果出现客户砍单情形，则及时与客户协商是否确定取消需求或是延迟交货，尽量降低厂内损失。
3-2-3 召开呆滞会议，讨论备货合理性，是否处理多余存货。

4. 将预测供需整体状况推送给主管，并监控业务处理进度，如果负责业务超过2天未处理完成，会出现逾时的异常警示。

5. 产销会议后的追踪
5-1 业务于任务卡点选重新计算，验证生管/物控是否依据产销协调的共识，调整备货计划。
5-2 系统根据产销会议的内容，自动侦测并主动预警。
5-2-1 产销会议针对供给不足的品项，决议增加生产，于指定开工日后重新计算，如果偏差量未修正，则预警负责业务跟进，避免出现交货风险。
5-2-2 产销会议针对供给溢出的品项，决议取消生产，任务卡提交后2天检查，如果供给量未下修，则预警负责业务跟进，避免库存呆滞的风险。
, relatedParamKeys=null, otherParamKeys=null, title=null, from=null, subtitle=null)], title=预测偏差分析的响应策略, sequence=null, from=null, capacities=null, status=null)], extensions=[{packageCode=FCI, name=预测流程设定, language={name={zh_TW=預測流程設定, zh_CN=预测流程设定}}, lang={name={zh_TW=預測流程設定, zh_CN=预测流程设定}}, type=@@export_pic_DataEntry_PredictiveProcessSetup, key=DataEntry_PredictiveProcessSetup}], version=2.0, paradigmCode=null, dependMechanismCodes=null, existsSystemPrinciples=null, mergeVersion=null, capacities=null, eocLevel=null, paramApi=[ParamApi(from=esp, queryApi=bm.ppsc.parameter.setting.get, updateApi=bm.ppsc.parameter.setting.update, paramDescription=[FieldDescription(name=预测需求量, key=calculationRules, value=null, dataType=null, componentType=null, format=null, express=null, fields=null, description=预测需求量, defaultValue=[forecast_demand_qty, inventory_qty], displayType=CHECKBOX, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=[{disabled=true, language={label={zh_TW=預測需求量, en_US=预测需求量, zh_CN=预测需求量}}, label=预测需求量, lang={label={zh_TW=預測需求量, en_US=预测需求量, zh_CN=预测需求量}}, value=forecast_demand_qty}, {language={label={zh_TW=庫存, en_US=inventory qty, zh_CN=库存}}, label=库存, lang={label={zh_TW=庫存, en_US=inventory qty, zh_CN=库存}}, value=inventory_qty}, {language={label={zh_TW=交貨量, en_US=delivery qty, zh_CN=交货量}}, label=交货量, lang={label={zh_TW=交貨量, en_US=delivery qty, zh_CN=交货量}}, value=delivery_qty}, {language={label={zh_TW=在製, en_US=in qty, zh_CN=在制}}, label=在制, lang={label={zh_TW=在製, en_US=in qty, zh_CN=在制}}, value=in_qty}, {language={label={zh_TW=在途量, en_US=on way qty, zh_CN=在途量}}, label=在途量, lang={label={zh_TW=在途量, en_US=on way qty, zh_CN=在途量}}, value=on_the_way_qty}], sequence=7, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=null, isSimulation=false, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=null, openWindowTip=null, valueComputed=null, isTop=null), FieldDescription(name=取稳态的数据类型, key=steadyStateDataType, value=null, dataType=null, componentType=null, format=null, express=null, fields=null, description=取稳态的数据类型, defaultValue=[], displayType=CHECKBOX, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=[{language={label={zh_TW=庫存, en_US=inventory qty, zh_CN=库存}}, label=库存, lang={label={zh_TW=庫存, en_US=inventory qty, zh_CN=库存}}, value=inventory_qty}, {language={label={zh_TW=交貨量, en_US=delivery qty, zh_CN=交货量}}, label=交货量, lang={label={zh_TW=交貨量, en_US=delivery qty, zh_CN=交货量}}, value=delivery_qty}, {language={label={zh_TW=在製, en_US=in qty, zh_CN=在制}}, label=在制, lang={label={zh_TW=在製, en_US=in qty, zh_CN=在制}}, value=in_qty}, {language={label={zh_TW=下階庫存, en_US=lower_level_inventory_qty, zh_CN=下阶库存}}, label=下阶库存, lang={label={zh_TW=下階庫存, en_US=lower_level_inventory_qty, zh_CN=下阶库存}}, value=lower_level_inventory_qty}, {language={label={zh_TW=下階採購, en_US=lower_level_purchase_qty, zh_CN=下阶采购}}, label=下阶采购, lang={label={zh_TW=下階採購, en_US=lower_level_purchase_qty, zh_CN=下阶采购}}, value=lower_level_purchase_qty}, {language={label={zh_TW=下階在製, en_US=lower_level_in_qty, zh_CN=下阶在制}}, label=下阶在制, lang={label={zh_TW=下階在製, en_US=lower_level_in_qty, zh_CN=下阶在制}}, value=lower_level_in_qty}], sequence=7, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=null, isSimulation=false, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=null, openWindowTip=null, valueComputed=null, isTop=null), FieldDescription(name=汇总真预测, key=aggregateTruePrediction, value=null, dataType=null, componentType=null, format=null, express=null, fields=null, description=设置真预测的汇总规则，依客户汇总：同一客户有新的预测数据时,按最新预测调整该客户所有的真预测数据；依客户和品号汇总：同一客户有新的预测数据时，按最新预测调整该客户同品号的真预测数据, defaultValue=customer, displayType=RADIO, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=[{language={label={zh_TW=依客戶彙總, en_US=依客户汇总, zh_CN=依客户汇总}}, label=依客户汇总, lang={label={zh_TW=依客戶彙總, en_US=依客户汇总, zh_CN=依客户汇总}}, value=customer}, {language={label={zh_TW=依客戶和品號彙總, en_US=依客户和品号汇总, zh_CN=依客户和品号汇总}}, label=依客户和品号汇总, lang={label={zh_TW=依客戶和品號彙總, en_US=依客户和品号汇总, zh_CN=依客户和品号汇总}}, value=customer_item}], sequence=13, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=null, isSimulation=false, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=null, openWindowTip=null, valueComputed=null, isTop=null)], queryRequestParmas=null, supportOperationUnit=false)])],
        @Integer[1],
    ],
    null,
]
method=com.digiwin.athena.knowledgegraph.service.impl.MechanismDesignService$$EnhancerBySpringCGLIB$$e4137eb9.mergeMechanismDesignInfo location=AtExit
ts=2024-09-24 10:37:00.049; [cost=10.075226ms] result=@ArrayList[
    @Object[][
        @Mechanism[Mechanism(code=ForecastingSupplyAndDemandControlPlanning, name=预测供需调控机制, description=null, author=null, createTime=null, executeDescription=null, tags=null, supportProducts=null, requireDataFrame=null, paramDescription=[FieldDescription(name=客戶資訊維護, key=maintenanceOfCustomerInfo, value=&routerLink=/base-data-entry&code=maintenanceOfCustomerInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=品號資訊維護, key=maintenanceOfProductInfo, value=&routerLink=/base-data-entry&code=maintenanceOfProductInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=客戶品號關係維護, key=baseDataEntry_product_informtion_maintenance, value=&routerLink=/base-data-entry&code=baseDataEntry_product_informtion_maintenance&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=責任人設定, key=forecastingResponderAndExecutor, value=&routerLink=/base-data-entry&code=forecastingResponderAndExecutor&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=預測流程設定, key=DataEntry_PredictiveProcessSetup, value=&routerLink=/base-data-entry&code=DataEntry_PredictiveProcessSetup&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=21, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=預測需求量, key=calculationRules, value=null, dataType=string, componentType=null, format=null, express=null, fields=null, description=預測需求量, defaultValue=[inventory_qty], displayType=CHECKBOX, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=[{language={label={zh_TW=庫存, en_US=inventory qty, zh_CN=库存}}, label=庫存, lang={label={zh_TW=庫存, en_US=inventory qty, zh_CN=库存}}, value=inventory_qty}, {language={label={zh_TW=交貨量, en_US=delivery qty, zh_CN=交货量}}, label=交貨量, lang={label={zh_TW=交貨量, en_US=delivery qty, zh_CN=交货量}}, value=delivery_qty}, {language={label={zh_TW=在製, en_US=in qty, zh_CN=在制}}, label=在製, lang={label={zh_TW=在製, en_US=in qty, zh_CN=在制}}, value=in_qty}, {language={label={zh_TW=在途量, en_US=on way qty, zh_CN=在途量}}, label=在途量, lang={label={zh_TW=在途量, en_US=on way qty, zh_CN=在途量}}, value=on_way_qty}], sequence=7, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=null, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=預測BOM資訊維護, key=maintenanceOfBomInfo, value=&routerLink=/base-data-entry&code=maintenanceOfBomInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=取穩態的資料類型, key=steadyStateDataType, value=null, dataType=string, componentType=null, format=null, express=null, fields=null, description=取穩態的資料類型, defaultValue=null, displayType=CHECKBOX, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=[{language={label={zh_TW=庫存, en_US=inventory qty, zh_CN=库存}}, label=庫存, lang={label={zh_TW=庫存, en_US=inventory qty, zh_CN=库存}}, value=inventory_qty}, {language={label={zh_TW=交貨量, en_US=delivery qty, zh_CN=交货量}}, label=交貨量, lang={label={zh_TW=交貨量, en_US=delivery qty, zh_CN=交货量}}, value=delivery_qty}, {language={label={zh_TW=在製, en_US=in qty, zh_CN=在制}}, label=在製, lang={label={zh_TW=在製, en_US=in qty, zh_CN=在制}}, value=in_qty}, {language={label={zh_TW=下階庫存, en_US=next qty, zh_CN=下阶库存}}, label=下階庫存, lang={label={zh_TW=下階庫存, en_US=next qty, zh_CN=下阶库存}}, value=next_qty}, {language={label={zh_TW=下階採購, en_US=next purchase, zh_CN=下阶采购}}, label=下階採購, lang={label={zh_TW=下階採購, en_US=next purchase, zh_CN=下阶采购}}, value=next_purchase}, {language={label={zh_TW=下階在製, en_US=next in qty, zh_CN=下阶在制}}, label=下階在製, lang={label={zh_TW=下階在製, en_US=next in qty, zh_CN=下阶在制}}, value=next_in_qty}], sequence=7, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=null, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=DynamicCondition(items=null), fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed={valueMapping=[{op=EQUAL, rightValueType=CONSTANT, right=Y, value=[inventory_qty]}, {op=EQUAL, rightValueType=CONSTANT, right=N, value=[]}], serviceName=hasGroundEnd, type=SYSTEM}, isTop=false), FieldDescription(name=庫存資訊維護, key=DataEntry_MaintenanceOfInventoryInfo, value=&routerLink=/base-data-entry&code=DataEntry_MaintenanceOfInventoryInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=DynamicCondition(items=null), fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=訂單資訊維護, key=DataEntry_order_information_maintenance, value=&routerLink=/base-data-entry&code=DataEntry_order_information_maintenance&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=DynamicCondition(items=null), fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=備料資訊維護, key=maintenanceOfSparePartsInfo, value=&routerLink=/base-data-entry&code=maintenanceOfSparePartsInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=DynamicCondition(items=null), fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=彙總真預測, key=aggregateTruePrediction, value=null, dataType=object, componentType=null, format=null, express=null, fields=null, description=設定真預測的彙總規則，依客戶彙總：同一客戶有新的預測數據時,按最新預測調整該客戶所有的真預測數據；依客戶和品號彙總：同一客戶有新的預測數據時，按最新預測調整該客戶同品號的真預測數據, defaultValue=customer, displayType=RADIO, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=[{language={label={zh_TW=依客戶彙總, en_US=依客户汇总, zh_CN=依客户汇总}}, label=依客戶彙總, lang={label={zh_TW=依客戶彙總, en_US=依客户汇总, zh_CN=依客户汇总}}, value=customer}, {language={label={zh_TW=依客戶和品號彙總, en_US=依客户和品号汇总, zh_CN=依客户和品号汇总}}, label=依客戶和品號彙總, lang={label={zh_TW=依客戶和品號彙總, en_US=依客户和品号汇总, zh_CN=依客户和品号汇总}}, value=customer_item}], sequence=13, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=庫存資訊維護, key=DataEntry_MaintenanceOfInventoryInfo2, value=&routerLink=/base-data-entry&code=DataEntry_MaintenanceOfInventoryInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=訂單資訊維護, key=DataEntry_order_information_maintenance2, value=&routerLink=/base-data-entry&code=DataEntry_order_information_maintenance&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=備料資訊維護, key=maintenanceOfSparePartsInfo2, value=&routerLink=/base-data-entry&code=maintenanceOfSparePartsInfo&category=SIGN-DOCUMENT, dataType=object, componentType=null, format=null, express=null, fields=null, description=跳轉到athena基礎資料錄入進行相關基礎資料錄入, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=20, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=false, executeName=null, colspan=0, extendData=null, category=link, from=athena, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=false, openWindowTip=null, valueComputed=null, isTop=false), FieldDescription(name=DetectingSalesForecastData, key=DetectingSalesForecastData, value=null, dataType=object, componentType=null, format=null, express=null, fields=null, description=DetectingSalesForecastData, defaultValue=null, displayType=LINK, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=null, sequence=9999, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=true, isSimulation=null, executeName=null, colspan=0, extendData=null, category=link, from=default, isOperation=null, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=null, openWindowTip=null, valueComputed=null, isTop=null)], sourceOperationUnit=null, skipSimulate=true, defaultPageTemplate=null, defaultPresent=null, composite=true, subMechanisms=null, hasSet=false, enhance=null, simulateResultWriteBack=null, skipOutputFile=false, principles=[Principle(code=fsadcp_p1, description=null, details=[PrincipleDetail(code=fsadcp_p1d1, sequence=null, content=明确需纳入预测管理的范畴，先行厘清各产品类型，对应之备货流程与产销模式，方能使得预测管理的效益最大化。
, description=一、建构预测管理模型的规则：
1-1 針對固定頻率提供預測的客戶進行維護
, relatedParamKeys=[maintenanceOfCustomerInfo], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d2, sequence=null, content=, description=1-2 針對1-1客戶預測的備貨品號進行維護
, relatedParamKeys=[maintenanceOfProductInfo], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d3, sequence=null, content=, description=1-3 針對預測廠內品號維護對應客戶品號
, relatedParamKeys=[baseDataEntry_product_informtion_maintenance], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d4, sequence=null, content=, description=2. 当预测偏差发生时，为确保响应不遗漏，需事先明确负责人员；未来发生预测偏差时，会自动派送任务卡给对应负责人：
2-1 负责处理预测偏差的人员
2-2 负责监督处理状况的人员
, relatedParamKeys=[forecastingResponderAndExecutor], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d5, sequence=null, content=, description=3. 订定预测偏差分析的计划周期区间范围：
预测偏差分析周期需小于等于滚动式预测(Rolling Forecast)的范围，且至少超过合理的前置时间(Lead Time)。例如：客户每个月会更新未来12个月的预测，且客户产品于厂内产销协调后的备货周期是3个月，则预测偏差分析周期须设定介于3-12个月之间。
预测偏差分析周期可以根据实际备货需求动态调整。
, relatedParamKeys=[DataEntry_PredictiveProcessSetup], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d6, sequence=null, content=, description=4. 是否与客户有协议，历史未交货的预测需求，客户要全数出货。
, relatedParamKeys=null, otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d7, sequence=null, content=, description=5. 预测备货如需考虑订单需求，须择一设定预测与订单的冲销方式，避免相同需求重复备货：
5-1 当期有预测需求，则以预测为主，不考虑订单数量。
5-2 当期有订单需求，则以订单为主，不考虑预测数量。
5-3 比对当期预测与订单数量，两者取其大。
, relatedParamKeys=null, otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d8, sequence=null, content=, description=6. 预测偏差分析周期内的需求，与厂内备货的供给有落差时，订定需预警的偏差幅度。
未来可以依据偏差率稳定下降后，动态调降偏差分析标准。
6-1 供给溢出－评估合理备货范围
6-2 供给不足－如果不允许任何交货风险则设定0%
, relatedParamKeys=null, otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d9, sequence=null, content=, description=7-1 订定备货供给的范畴
7-1-1 MTS(Make to Stock 存货式生产)
, relatedParamKeys=[calculationRules], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d10, sequence=null, content=, description=7-1-2 ATO(Assembly to Order 接单后装配)
预测BOM与生产BOM不同，生产BOM是生产过程中的产品架构，预测BOM则是以预测备货的角度建置，不存在多阶架构。
举例来说，半成品到成品的生产周期很短，因此备货至半成品即可满足出货需求，则预测BOM只需要建置上阶成品，对应下阶半成品，不需要建置尾阶原材料。
此外，如果上阶主件成品对应下阶有20个元件，其中17个备货风险较低，则预测BOM只需要建置3个关键元件，进行预测备货管理的风险监控。
, relatedParamKeys=[maintenanceOfBomInfo], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d11, sequence=null, content=, description=7-2 订定备货供给的数据来源：
, relatedParamKeys=[steadyStateDataType, DataEntry_MaintenanceOfInventoryInfo, DataEntry_order_information_maintenance, maintenanceOfSparePartsInfo], otherParamKeys=[steadyStateInfos], title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p1d12, sequence=null, content=, description=8. 与客户制定预测资料更新方式，是否直接覆盖，或是根据品号更新。
, relatedParamKeys=[aggregateTruePrediction], otherParamKeys=null, title=null, from=null, subtitle=null)], title=项⽬建构预测管理模型的规则, sequence=null, from=null, capacities=null, status=null), Principle(code=fsadcp_p2, description=null, details=[PrincipleDetail(code=fsadcp_p2d1, sequence=null, content=透过任务过滤的前置参数设定，于后续每次拿到客户预测需求，系统即可计算并汇整，列出符合合理备货条件的清单，以及供需不平衡需要处理的品项，让业务省去资料整理的繁琐过程，直接让数据结果驱动相应的任务，使业务可以更加专注于重要的产销协调。, description=二、预测偏差分析的响应策略
1. 生管/物控根据客户预测展开厂内备货计划
敏态：, relatedParamKeys=[DataEntry_MaintenanceOfInventoryInfo2, DataEntry_order_information_maintenance2, maintenanceOfSparePartsInfo2], otherParamKeys=[steadyStateInfos2], title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p2d2, sequence=null, content=, description=稳态：ERP作业
 
2. 各业务收到负责客户之预测资料后，于FCI发起项目，将客户预测资料导入系统，产生预测偏差分析结果。
, relatedParamKeys=[DetectingSalesForecastData], otherParamKeys=null, title=null, from=null, subtitle=null), PrincipleDetail(code=fsadcp_p2d3, sequence=null, content=, description=3. 将预测供需异常的预警清单，推送给负责业务进行处理，负责业务需于2天内完成所有预警品项的跟进。
3-1 供给不足
3-1-1 召开产销会议，讨论如何协调生产计划。
3-1-2 检视前后预测版本的差异数量，判断客户需求突增，导致交货不及，则实时与客户进行协商。
3-2 供给溢出
3-2-1 确认已开制令单之生产状况，请生管删除未开工之制令单。
3-2-2 检视前后预测版本的差异数量，如果出现客户砍单情形，则及时与客户协商是否确定取消需求或是延迟交货，尽量降低厂内损失。
3-2-3 召开呆滞会议，讨论备货合理性，是否处理多余存货。

4. 将预测供需整体状况推送给主管，并监控业务处理进度，如果负责业务超过2天未处理完成，会出现逾时的异常警示。

5. 产销会议后的追踪
5-1 业务于任务卡点选重新计算，验证生管/物控是否依据产销协调的共识，调整备货计划。
5-2 系统根据产销会议的内容，自动侦测并主动预警。
5-2-1 产销会议针对供给不足的品项，决议增加生产，于指定开工日后重新计算，如果偏差量未修正，则预警负责业务跟进，避免出现交货风险。
5-2-2 产销会议针对供给溢出的品项，决议取消生产，任务卡提交后2天检查，如果供给量未下修，则预警负责业务跟进，避免库存呆滞的风险。
, relatedParamKeys=null, otherParamKeys=null, title=null, from=null, subtitle=null)], title=预测偏差分析的响应策略, sequence=null, from=null, capacities=null, status=null)], extensions=[{packageCode=FCI, name=预测流程设定, language={name={zh_TW=預測流程設定, zh_CN=预测流程设定}}, lang={name={zh_TW=預測流程設定, zh_CN=预测流程设定}}, type=@@export_pic_DataEntry_PredictiveProcessSetup, key=DataEntry_PredictiveProcessSetup}], version=2.0, paradigmCode=null, dependMechanismCodes=null, existsSystemPrinciples=null, mergeVersion=null, capacities=null, eocLevel=null, paramApi=[ParamApi(from=esp, queryApi=bm.ppsc.parameter.setting.get, updateApi=bm.ppsc.parameter.setting.update, paramDescription=[FieldDescription(name=预测需求量, key=calculationRules, value=null, dataType=null, componentType=null, format=null, express=null, fields=null, description=预测需求量, defaultValue=[forecast_demand_qty, inventory_qty], displayType=CHECKBOX, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=[{disabled=true, language={label={zh_TW=預測需求量, en_US=预测需求量, zh_CN=预测需求量}}, label=预测需求量, lang={label={zh_TW=預測需求量, en_US=预测需求量, zh_CN=预测需求量}}, value=forecast_demand_qty}, {language={label={zh_TW=庫存, en_US=inventory qty, zh_CN=库存}}, label=库存, lang={label={zh_TW=庫存, en_US=inventory qty, zh_CN=库存}}, value=inventory_qty}, {language={label={zh_TW=交貨量, en_US=delivery qty, zh_CN=交货量}}, label=交货量, lang={label={zh_TW=交貨量, en_US=delivery qty, zh_CN=交货量}}, value=delivery_qty}, {language={label={zh_TW=在製, en_US=in qty, zh_CN=在制}}, label=在制, lang={label={zh_TW=在製, en_US=in qty, zh_CN=在制}}, value=in_qty}, {language={label={zh_TW=在途量, en_US=on way qty, zh_CN=在途量}}, label=在途量, lang={label={zh_TW=在途量, en_US=on way qty, zh_CN=在途量}}, value=on_the_way_qty}], sequence=7, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=null, isSimulation=false, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=null, openWindowTip=null, valueComputed=null, isTop=null), FieldDescription(name=取稳态的数据类型, key=steadyStateDataType, value=null, dataType=null, componentType=null, format=null, express=null, fields=null, description=取稳态的数据类型, defaultValue=[], displayType=CHECKBOX, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=[{language={label={zh_TW=庫存, en_US=inventory qty, zh_CN=库存}}, label=库存, lang={label={zh_TW=庫存, en_US=inventory qty, zh_CN=库存}}, value=inventory_qty}, {language={label={zh_TW=交貨量, en_US=delivery qty, zh_CN=交货量}}, label=交货量, lang={label={zh_TW=交貨量, en_US=delivery qty, zh_CN=交货量}}, value=delivery_qty}, {language={label={zh_TW=在製, en_US=in qty, zh_CN=在制}}, label=在制, lang={label={zh_TW=在製, en_US=in qty, zh_CN=在制}}, value=in_qty}, {language={label={zh_TW=下階庫存, en_US=lower_level_inventory_qty, zh_CN=下阶库存}}, label=下阶库存, lang={label={zh_TW=下階庫存, en_US=lower_level_inventory_qty, zh_CN=下阶库存}}, value=lower_level_inventory_qty}, {language={label={zh_TW=下階採購, en_US=lower_level_purchase_qty, zh_CN=下阶采购}}, label=下阶采购, lang={label={zh_TW=下階採購, en_US=lower_level_purchase_qty, zh_CN=下阶采购}}, value=lower_level_purchase_qty}, {language={label={zh_TW=下階在製, en_US=lower_level_in_qty, zh_CN=下阶在制}}, label=下阶在制, lang={label={zh_TW=下階在製, en_US=lower_level_in_qty, zh_CN=下阶在制}}, value=lower_level_in_qty}], sequence=7, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=null, isSimulation=false, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=null, openWindowTip=null, valueComputed=null, isTop=null), FieldDescription(name=汇总真预测, key=aggregateTruePrediction, value=null, dataType=null, componentType=null, format=null, express=null, fields=null, description=设置真预测的汇总规则，依客户汇总：同一客户有新的预测数据时,按最新预测调整该客户所有的真预测数据；依客户和品号汇总：同一客户有新的预测数据时，按最新预测调整该客户同品号的真预测数据, defaultValue=customer, displayType=RADIO, displayTypeDefinition=null, displayFormat=null, valueDisplay=null, options=[{language={label={zh_TW=依客戶彙總, en_US=依客户汇总, zh_CN=依客户汇总}}, label=依客户汇总, lang={label={zh_TW=依客戶彙總, en_US=依客户汇总, zh_CN=依客户汇总}}, value=customer}, {language={label={zh_TW=依客戶和品號彙總, en_US=依客户和品号汇总, zh_CN=依客户和品号汇总}}, label=依客户和品号汇总, lang={label={zh_TW=依客戶和品號彙總, en_US=依客户和品号汇总, zh_CN=依客户和品号汇总}}, value=customer_item}], sequence=13, required=true, readOnly=false, validateScript=null, paramVisbleScope=null, paramVisble=null, paramDisableScope=null, paramDisable=null, isExecute=null, isSimulation=false, executeName=null, colspan=0, extendData=null, category=variable, from=default, isOperation=false, eocLevel=null, executable=null, periodEnable=null, fieldMappings=null, dynamicCondition=null, group=null, mechanismCode=null, visibleCondition=null, fieldOpenWindowMap=null, fieldOpenWindowDefinitions=null, forceOpen=null, max=null, min=null, step=null, target=null, linkKey=null, linkOptions=null, parameters=null, precision=null, restrictions=null, filters=null, isSingleOperation=null, openWindowTip=null, valueComputed=null, isTop=null)], queryRequestParmas=null, supportOperationUnit=false)])],
        @Integer[1],
    ],
    null,
]
```

# 发现生产区代码没上上去

```
[arthas@80]$ sm com.digiwin.athena.knowledgegraph.service.impl.MechanismDesignService handleLanguage
Affect(row-cnt:0) cost in 20 ms.

[arthas@82]$ sm com.digiwin.athena.knowledgegraph.service.impl.MechanismDesignService handleLanguage
Affect(row-cnt:0) cost in 23 ms.
```

镜像版本一致，但是代码不同。

应该是 ops 的 bug 造成。